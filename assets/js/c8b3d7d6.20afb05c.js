"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[307],{1499:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>l,toc:()=>c});var i=t(1527),s=t(6225),r=t(849);const a={sidebar_position:5,description:"A few helpful tips for using Yazi."},o="Tips",l={id:"tips",title:"Tips",description:"A few helpful tips for using Yazi.",source:"@site/docs/tips.md",sourceDirName:".",slug:"/tips",permalink:"/docs/tips",draft:!1,unlisted:!1,editUrl:"https://github.com/yazi-rs/yazi-rs.github.io/edit/main/docs/tips.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5,description:"A few helpful tips for using Yazi."},sidebar:"docsSidebar",previous:{title:"Frequently Asked Questions",permalink:"/docs/faq"}},d={},c=[{value:"Full border",id:"full-border",level:2},{value:"Dropping to the shell",id:"dropping-to-the-shell",level:2},{value:"Close input by once <code>&lt;Esc&gt;</code> press",id:"close-input-by-once-esc-press",level:2},{value:"No status bar",id:"no-status-bar",level:2},{value:"Show symlink in status bar",id:"show-symlink-in-status-bar",level:2}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"tips",children:"Tips"}),"\n",(0,i.jsx)(n.h2,{id:"full-border",children:"Full border"}),"\n",(0,i.jsx)(n.p,{children:"You can implement a full border for Yazi via the UI plugin."}),"\n",(0,i.jsx)("img",{src:(0,r.Z)("/img/full-border.png"),width:"600"}),"\n",(0,i.jsxs)(n.p,{children:["Copy the preset ",(0,i.jsxs)(n.a,{href:"https://github.com/sxyazi/yazi/blob/main/yazi-plugin/preset/components/manager.lua",children:[(0,i.jsx)(n.code,{children:"Manager:render"})," function"]})," to any place, for example ",(0,i.jsx)(n.code,{children:"~/.config/yazi/ui.lua"}),", then apply the following patch:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-diff",children:'@@ -10,16 +10,28 @@ function Manager:render(area)\n \t\t})\n \t\t:split(area)\n\n+\tlocal bar = function(c, x, y)\n+\t\treturn ui.Bar(\n+\t\t\tui.Rect { x = math.max(0, x), y = math.max(0, y), w = math.min(1, area.w), h = math.min(1, area.h) },\n+\t\t\tui.Position.TOP\n+\t\t):symbol(c)\n+\tend\n+\n \treturn utils.flat {\n-\t\t-- Borders\n-\t\tui.Bar(chunks[1], ui.Position.RIGHT):symbol(THEME.manager.border_symbol):style(THEME.manager.border_style),\n-\t\tui.Bar(chunks[3], ui.Position.LEFT):symbol(THEME.manager.border_symbol):style(THEME.manager.border_style),\n+\t\tui.Border(area, ui.Position.ALL):type(ui.Border.ROUNDED),\n+\t\tui.Bar(chunks[1], ui.Position.RIGHT),\n+\t\tui.Bar(chunks[3], ui.Position.LEFT),\n+\n+\t\tbar("\u252c", chunks[1].right - 1, chunks[1].y),\n+\t\tbar("\u2534", chunks[1].right - 1, chunks[1].bottom - 1),\n+\t\tbar("\u252c", chunks[2].right, chunks[2].y),\n+\t\tbar("\u2534", chunks[2].right, chunks[1].bottom - 1),\n\n \t\t-- Parent\n-\t\tFolder:render(chunks[1]:padding(ui.Padding.x(1)), { kind = Folder.PARENT }),\n+\t\tFolder:render(chunks[1]:padding(ui.Padding.xy(1)), { kind = Folder.PARENT }),\n \t\t-- Current\n-\t\tFolder:render(chunks[2], { kind = Folder.CURRENT }),\n+\t\tFolder:render(chunks[2]:padding(ui.Padding.y(1)), { kind = Folder.CURRENT }),\n \t\t-- Preview\n-\t\tui.Base(chunks[3]:padding(ui.Padding.x(1)), ui.Base.PREVIEW),\n+\t\tui.Base(chunks[3]:padding(ui.Padding.xy(1)), ui.Base.PREVIEW),\n \t}\n end\n'})}),"\n",(0,i.jsxs)(n.p,{children:["If you prefer sharp corners for the border, you can remove ",(0,i.jsx)(n.code,{children:":type(ui.Border.ROUNDED)"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Finally include it and adjust the manager layout offset:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",children:'# yazi.toml\n[plugins]\npreload = [\n\t"~/.config/yazi/ui.lua"\n]\n\n# theme.toml\n[manager]\nfolder_offset  = [ 2, 0, 2, 0 ]\npreview_offset = [ 2, 1, 2, 1 ]\n'})}),"\n",(0,i.jsx)(n.h2,{id:"dropping-to-the-shell",children:"Dropping to the shell"}),"\n",(0,i.jsxs)(n.p,{children:["Add the keybindings to the ",(0,i.jsx)(n.code,{children:"[manager]"})," of ",(0,i.jsx)(n.code,{children:"keymap.toml"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",children:"{ on = [ \"<C-s>\" ], exec = '''shell \"$SHELL\" --block --confirm''', desc = \"Open shell here\" }\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Please make sure that ",(0,i.jsx)(n.code,{children:"<C-s>"})," does not conflict with your other keys."]}),"\n",(0,i.jsxs)(n.h2,{id:"close-input-by-once-esc-press",children:["Close input by once ",(0,i.jsx)(n.code,{children:"<Esc>"})," press"]}),"\n",(0,i.jsxs)(n.p,{children:["You can change the ",(0,i.jsx)(n.code,{children:"<Esc>"})," of input component from the default ",(0,i.jsx)(n.code,{children:"escape"})," to ",(0,i.jsx)(n.code,{children:"close"})," command:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",children:'{ on = [ "<Esc>" ], exec = "close", desc = "Cancel input" }\n'})}),"\n",(0,i.jsx)(n.p,{children:"To exiting input directly, without entering Vi mode, making it behave like a regular input box."}),"\n",(0,i.jsx)(n.h2,{id:"no-status-bar",children:"No status bar"}),"\n",(0,i.jsx)("img",{src:(0,r.Z)("/img/no-status-bar.jpg"),width:"600"}),"\n",(0,i.jsxs)(n.p,{children:["Save those lines as a file, for example ",(0,i.jsx)(n.code,{children:"~/.config/yazi/ui.lua"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Status:render() return {} end\n\nlocal old_manager_render = Manager.render\nfunction Manager:render(area)\n\treturn old_manager_render(self, ui.Rect { x = area.x, y = area.y, w = area.w, h = area.h + 1 })\nend\n"})}),"\n",(0,i.jsx)(n.p,{children:"Finally include it and adjust the manager layout offset:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",children:'# yazi.toml\n[plugins]\npreload = [\n\t"~/.config/yazi/ui.lua"\n]\n\n# theme.toml\n[manager]\nfolder_offset  = [ 1, 0, 0, 0 ]\npreview_offset = [ 1, 1, 0, 1 ]\n'})}),"\n",(0,i.jsx)(n.h2,{id:"show-symlink-in-status-bar",children:"Show symlink in status bar"}),"\n",(0,i.jsx)("img",{src:(0,r.Z)("/img/symlink-in-status.png"),width:"600"}),"\n",(0,i.jsxs)(n.p,{children:["You only need to rewrite the ",(0,i.jsxs)(n.a,{href:"https://github.com/sxyazi/yazi/blob/main/yazi-plugin/preset/components/status.lua#L39-L46",children:[(0,i.jsx)(n.code,{children:"Status:name()"})," method"]})," to achieve this feature, save this function as a file, and apply the following patch to it:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-diff",children:'@@ -42,7 +42,11 @@ function Status:name()\n \t\treturn ui.Span("")\n \tend\n\n-\treturn ui.Span(" " .. h.name)\n+\tlocal linked = ""\n+\tif h.link_to ~= nil then\n+\t\tlinked = " -> " .. tostring(h.link_to)\n+\tend\n+\treturn ui.Span(" " .. h.name .. linked)\n end\n'})}),"\n",(0,i.jsx)(n.p,{children:"Finally just include it:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",children:'# yazi.toml\n[plugins]\npreload = [\n\t"/path/to/your/status-name-function.lua"\n]\n'})})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},6225:(e,n,t)=>{t.d(n,{Z:()=>o,a:()=>a});var i=t(959);const s={},r=i.createContext(s);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);